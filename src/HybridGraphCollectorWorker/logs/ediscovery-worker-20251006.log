[2025-10-06 06:57:24.974 -04:00 INF] : Starting Concurrent Hybrid Graph Collector Worker {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:25.294 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework. {"EventId":{"Id":10401,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ServiceProviderCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:25.898 -04:00 DBG] Microsoft.EntityFrameworkCore.Model: The index {'AssignedUserId'} was not created on entity type 'CollectionJob' as the properties are already covered by the index {'AssignedUserId', 'Status'}. {"EventId":{"Id":10601,"Name":"Microsoft.EntityFrameworkCore.Model.RedundantIndexRemoved"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:25.903 -04:00 DBG] Microsoft.EntityFrameworkCore.Model: The index {'JobId'} was not created on entity type 'JobAssignment' as the properties are already covered by the index {'JobId', 'WorkerId'}. {"EventId":{"Id":10601,"Name":"Microsoft.EntityFrameworkCore.Model.RedundantIndexRemoved"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:25.905 -04:00 DBG] Microsoft.EntityFrameworkCore.Model: The index {'UserId'} was not created on entity type 'JobAssignment' as the properties are already covered by the index {'UserId', 'Status'}. {"EventId":{"Id":10601,"Name":"Microsoft.EntityFrameworkCore.Model.RedundantIndexRemoved"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:25.907 -04:00 DBG] Microsoft.EntityFrameworkCore.Model: The index {'ParentJobId'} was not created on entity type 'JobShard' as the properties are already covered by the index {'ParentJobId', 'ShardIndex'}. {"EventId":{"Id":10601,"Name":"Microsoft.EntityFrameworkCore.Model.RedundantIndexRemoved"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:25.910 -04:00 DBG] Microsoft.EntityFrameworkCore.Model: The index {'JobShardId'} was not created on entity type 'JobShardCheckpoint' as the properties are already covered by the index {'JobShardId', 'CheckpointKey'}. {"EventId":{"Id":10601,"Name":"Microsoft.EntityFrameworkCore.Model.RedundantIndexRemoved"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:25.914 -04:00 DBG] Microsoft.EntityFrameworkCore.Model: The index {'JobShardId'} was not created on entity type 'JobShardCheckpoint' as the properties are already covered by the index {'JobShardId', 'IsCompleted'}. {"EventId":{"Id":10601,"Name":"Microsoft.EntityFrameworkCore.Model.RedundantIndexRemoved"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:25.918 -04:00 DBG] Microsoft.EntityFrameworkCore.Model: The index {'ManifestId'} was not created on entity type 'ManifestVerification' as the properties are already covered by the index {'ManifestId', 'VerificationDate'}. {"EventId":{"Id":10601,"Name":"Microsoft.EntityFrameworkCore.Model.RedundantIndexRemoved"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:25.921 -04:00 DBG] Microsoft.EntityFrameworkCore.Model: The index {'UserId'} was not created on entity type 'UserSession' as the properties are already covered by the index {'UserId', 'IsActive'}. {"EventId":{"Id":10601,"Name":"Microsoft.EntityFrameworkCore.Model.RedundantIndexRemoved"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.123 -04:00 DBG] Microsoft.EntityFrameworkCore.Model.Validation: The property 'CollectedItem.JobShardId' was created in shadow state because there are no eligible CLR members with a matching name. {"EventId":{"Id":10600,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowPropertyCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.126 -04:00 DBG] Microsoft.EntityFrameworkCore.Model.Validation: The property 'JobAssignment.WorkerInstanceId' was created in shadow state because there are no eligible CLR members with a matching name. {"EventId":{"Id":10600,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowPropertyCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.129 -04:00 DBG] Microsoft.EntityFrameworkCore.Model.Validation: The property 'JobLog.JobShardId' was created in shadow state because there are no eligible CLR members with a matching name. {"EventId":{"Id":10600,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowPropertyCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.249 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 9.0.9 initialized 'EDiscoveryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.9' with options: None {"EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.272 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection. {"EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.286 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (14ms). {"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.292 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.316 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.324 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposing connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.330 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (4ms). {"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.339 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'. {"EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.342 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection. {"EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.344 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (1ms). {"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.353 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (12ms). {"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.357 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (21ms). {"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.360 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.365 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.376 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL; {"EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.418 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.426 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.432 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (7ms). {"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.437 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: 'EDiscoveryDbContext' disposed. {"EventId":{"Id":10407,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.441 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposing connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.444 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (3ms). {"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.542 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: AUDIT: ConcurrentWorkerServiceStarted | Custodian: null | CorrelationId: 3a9161b3 | Data: {"Action":"ConcurrentWorkerServiceStarted","Custodian":null,"Data":{"Version":"2.0.0","Environment":"Development","ConcurrentEnabled":true},"Instance":"DONNELLD-BOOK-3-47788","Timestamp":"2025-10-06T10:57:26.4549674Z","CorrelationId":"3a9161b3"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.544 -04:00 INF] : Concurrent Hybrid Graph Collector Worker started successfully {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.549 -04:00 DBG] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting {"EventId":{"Id":1,"Name":"Starting"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.725 -04:00 INF] EDiscovery.Shared.Services.AutoRouterService: AutoRouter configured with thresholds: 10.0 GB, 50,000 items {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.743 -04:00 WRN] EDiscovery.Shared.Services.GraphDataConnectService: Graph Data Connect Service Bus connection not configured - running in stub mode {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.765 -04:00 INF] HybridGraphCollectorWorker.Worker: Hybrid Graph Collector Worker started at: "2025-10-06T06:57:26.7651308-04:00" | CorrelationId: d8b3b678 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.777 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: AUDIT: WorkerServiceExecutionStarted | Custodian: null | CorrelationId: d8b3b678 | Data: {"Action":"WorkerServiceExecutionStarted","Custodian":null,"Data":{"StartTime":"2025-10-06T06:57:26.7703595-04:00"},"Instance":"DONNELLD-BOOK-3-47788","Timestamp":"2025-10-06T10:57:26.770478Z","CorrelationId":"d8b3b678"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.783 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: Worker.ProcessPendingJobs | CorrelationId: 82217e94 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.785 -04:00 DBG] HybridGraphCollectorWorker.Worker: Checking for pending collection jobs | CorrelationId: 82217e94 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.791 -04:00 DBG] HybridGraphCollectorWorker.Worker: Checking for available job shards | CorrelationId: d6893029 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.793 -04:00 DBG] HybridGraphCollectorWorker.Worker: Sharded job services not available, skipping shard processing | CorrelationId: d6893029 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.797 -04:00 INF] HybridGraphCollectorWorker.Worker: Processing sample collection job for custodian: test.user@development.com | CorrelationId: c0571cb4 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.815 -04:00 INF] HybridGraphCollectorWorker.Services.ObservabilityHelper: JobStarted | {"EventType":"JobStarted","CustodianEmail":"test.user@development.com","JobType":"Email","StartDate":"2025-09-06T10:57:26.8012147Z","EndDate":"2025-10-06T10:57:26.8012756Z","Keywords":["contract","agreement"],"IncludeAttachments":true,"OutputPath":"./output","Timestamp":"2025-10-06T10:57:26.8023878Z","CorrelationId":"c0571cb4"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.818 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: AUDIT: JobStarted | Custodian: null | CorrelationId: c0571cb4 | Data: {"Action":"JobStarted","Custodian":null,"Data":{"EventType":"JobStarted","CustodianEmail":"test.user@development.com","JobType":"Email","StartDate":"2025-09-06T10:57:26.8012147Z","EndDate":"2025-10-06T10:57:26.8012756Z","Keywords":["contract","agreement"],"IncludeAttachments":true,"OutputPath":"./output","Timestamp":"2025-10-06T10:57:26.8023878Z","CorrelationId":"c0571cb4"},"Instance":"DONNELLD-BOOK-3-47788","Timestamp":"2025-10-06T10:57:26.8182054Z","CorrelationId":"c0571cb4"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.823 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: AutoRouter.DetermineOptimalRoute | CorrelationId: 13ec70e4 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.825 -04:00 INF] EDiscovery.Shared.Services.AutoRouterService: Determining optimal route for custodian: test.user@development.com | CorrelationId: 13ec70e4 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.832 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: AUDIT: AutoRouterDecisionStarted | Custodian: test.user@development.com | CorrelationId: 13ec70e4 | Data: {"Action":"AutoRouterDecisionStarted","Custodian":"test.user@development.com","Data":{"CustodianEmail":"test.user@development.com","JobType":"Email","DateRange":{"StartDate":"2025-09-06T10:57:26.8012147Z","EndDate":"2025-10-06T10:57:26.8012756Z"}},"Instance":"DONNELLD-BOOK-3-47788","Timestamp":"2025-10-06T10:57:26.8283473Z","CorrelationId":"13ec70e4"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.842 -04:00 INF] HybridGraphCollectorWorker.Workers.GdcFetchWorker: GDC Fetch Worker started. Input kind: nas {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.845 -04:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.846 -04:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.849 -04:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\HybridGraphCollectorWorker {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.851 -04:00 DBG] Microsoft.Extensions.Hosting.Internal.Host: Hosting started {"EventId":{"Id":2,"Name":"Started"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.866 -04:00 INF] EDiscovery.Shared.Services.AutoRouterService: Collection estimates - Size: 5368709120 bytes (5120.00 MB), Items: 10000 | CorrelationId: 13ec70e4 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.872 -04:00 DBG] EDiscovery.Shared.Services.AutoRouterService: Applying routing logic with thresholds: 10737418240 bytes, 50000 items | CorrelationId: 13ec70e4 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.876 -04:00 INF] EDiscovery.Shared.Services.AutoRouterService: Route decision: Graph Data Connect selected - current quota already exceeded | CorrelationId: 13ec70e4 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.877 -04:00 INF] EDiscovery.Shared.Services.AutoRouterService: Route decision completed: "GraphDataConnect" (Confidence: 95.0 %) | CorrelationId: 13ec70e4 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.890 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: AUDIT: AutoRouterDecisionCompleted | Custodian: test.user@development.com | CorrelationId: 13ec70e4 | Data: {"Action":"AutoRouterDecisionCompleted","Custodian":"test.user@development.com","Data":{"RecommendedRoute":"GraphDataConnect","Reason":"Current quota usage exceeds Graph API thresholds","ConfidenceScore":0.95,"EstimatedSize":5368709120,"EstimatedItems":10000,"QuotaUsage":{"UsedBytes":53687091200,"UsedItems":250000}},"Instance":"DONNELLD-BOOK-3-47788","Timestamp":"2025-10-06T10:57:26.8820267Z","CorrelationId":"13ec70e4"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.895 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: AutoRouter.DetermineOptimalRoute | Duration: 71ms | Items: 0 | Size: 0 bytes | CorrelationId: 13ec70e4 | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.903 -04:00 INF] HybridGraphCollectorWorker.Services.EDiscoveryApiClient: [Job 0] [AutoRouter] Route decision: GraphDataConnect Reason: Current quota usage exceeds Graph API thresholds. Confidence: 95.0% {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.910 -04:00 INF] HybridGraphCollectorWorker.Services.ObservabilityHelper: AutoRoutedToGDC | {"EventType":"AutoRoutedToGDC","CustodianEmail":"test.user@development.com","JobType":"Email","RecommendedRoute":"GraphDataConnect","Reason":"Current quota usage exceeds Graph API thresholds","ConfidenceScore":0.95,"EstimatedDataSizeBytes":5368709120,"EstimatedItemCount":10000,"Timestamp":"2025-10-06T10:57:26.9069121Z","CorrelationId":"c0571cb4"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.912 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: AUDIT: AutoRoutedToGDC | Custodian: null | CorrelationId: c0571cb4 | Data: {"Action":"AutoRoutedToGDC","Custodian":null,"Data":{"EventType":"AutoRoutedToGDC","CustodianEmail":"test.user@development.com","JobType":"Email","RecommendedRoute":"GraphDataConnect","Reason":"Current quota usage exceeds Graph API thresholds","ConfidenceScore":0.95,"EstimatedDataSizeBytes":5368709120,"EstimatedItemCount":10000,"Timestamp":"2025-10-06T10:57:26.9069121Z","CorrelationId":"c0571cb4"},"Instance":"DONNELLD-BOOK-3-47788","Timestamp":"2025-10-06T10:57:26.912618Z","CorrelationId":"c0571cb4"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.918 -04:00 INF] HybridGraphCollectorWorker.Worker: Graph Data Connect collection requested for job type: "Email" {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.922 -04:00 INF] EDiscovery.Shared.Services.GraphDataConnectService: Triggering Graph Data Connect collection for custodian: test.user@development.com | CorrelationId: 78819818 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.927 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: AUDIT: GdcCollectionTriggered | Custodian: test.user@development.com | CorrelationId: 78819818 | Data: {"Action":"GdcCollectionTriggered","Custodian":"test.user@development.com","Data":{"CustodianEmail":"test.user@development.com","JobType":"Email","DateRange":{"StartDate":"2025-09-06T10:57:26.8012147Z","EndDate":"2025-10-06T10:57:26.8012756Z"},"TriggerType":"AzureDataFactory"},"Instance":"DONNELLD-BOOK-3-47788","Timestamp":"2025-10-06T10:57:26.9256535Z","CorrelationId":"78819818"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:26.972 -04:00 INF] EDiscovery.Shared.Services.GraphDataConnectService: GDC Stub Mode - Would send trigger message to ADF:
{
  "pipelineRunId": "a5ddf44f245c4ca4b248ec1a332be4b6",
  "collectionRequest": {
    "custodianEmail": "test.user@development.com",
    "jobType": 1,
    "startDate": "2025-09-06T10:57:26.8012147Z",
    "endDate": "2025-10-06T10:57:26.8012756Z",
    "keywords": [
      "contract",
      "agreement"
    ],
    "includeAttachments": true,
    "outputPath": "./output"
  },
  "triggeredAt": "2025-10-06T10:57:26.9316556Z",
  "correlationId": "78819818",
  "priority": 2,
  "estimatedDuration": "01:00:00",
  "retryPolicy": {
    "maxRetries": 3,
    "retryDelayMinutes": 15,
    "exponentialBackoff": true,
    "retryableErrors": [
      "ThrottlingError",
      "TemporaryServiceUnavailable",
      "InternalServerError"
    ]
  },
  "configuration": {
    "outputFormat": "Parquet",
    "compressionType": "Snappy",
    "partitionBy": [
      "custodianEmail",
      "date"
    ],
    "enableDeltaLake": true,
    "dataRetentionDays": 2555,
    "enableEncryption": true,
    "notificationEndpoints": []
  }
} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.118 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: AUDIT: GdcCollectionTriggered | Custodian: test.user@development.com | CorrelationId: 78819818 | Data: {"Action":"GdcCollectionTriggered","Custodian":"test.user@development.com","Data":{"PipelineRunId":"a5ddf44f245c4ca4b248ec1a332be4b6","TriggerMessage":{"pipelineRunId":"a5ddf44f245c4ca4b248ec1a332be4b6","collectionRequest":{"CustodianEmail":"test.user@development.com","JobType":1,"StartDate":"2025-09-06T10:57:26.8012147Z","EndDate":"2025-10-06T10:57:26.8012756Z","Keywords":["contract","agreement"],"IncludeAttachments":true,"OutputPath":"./output"},"triggeredAt":"2025-10-06T10:57:26.9316556Z","correlationId":"78819818","priority":2,"estimatedDuration":"01:00:00","retryPolicy":{"maxRetries":3,"retryDelayMinutes":15,"exponentialBackoff":true,"retryableErrors":["ThrottlingError","TemporaryServiceUnavailable","InternalServerError"]},"configuration":{"outputFormat":"Parquet","compressionType":"Snappy","partitionBy":["custodianEmail","date"],"enableDeltaLake":true,"dataRetentionDays":2555,"enableEncryption":true,"notificationEndpoints":[]}},"ServiceBusEnabled":false},"Instance":"DONNELLD-BOOK-3-47788","Timestamp":"2025-10-06T10:57:28.1069644Z","CorrelationId":"78819818"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.122 -04:00 INF] HybridGraphCollectorWorker.Worker: Graph Data Connect collection triggered successfully for custodian: test.user@development.com | PipelineRunId: a5ddf44f245c4ca4b248ec1a332be4b6 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.125 -04:00 INF] HybridGraphCollectorWorker.Worker: Collection completed successfully. Items: 0, Size: 0 bytes | CorrelationId: c0571cb4 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.130 -04:00 INF] HybridGraphCollectorWorker.Services.ObservabilityHelper: JobCompleted | {"EventType":"JobCompleted","CustodianEmail":"test.user@development.com","JobType":"Email","IsSuccessful":true,"ItemCount":0,"SizeBytes":0,"DurationMs":1303,"ErrorMessage":null,"StartTime":null,"EndTime":null,"Timestamp":"2025-10-06T10:57:28.1290988Z","CorrelationId":"c0571cb4"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.132 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: AUDIT: JobCompleted | Custodian: null | CorrelationId: c0571cb4 | Data: {"Action":"JobCompleted","Custodian":null,"Data":{"EventType":"JobCompleted","CustodianEmail":"test.user@development.com","JobType":"Email","IsSuccessful":true,"ItemCount":0,"SizeBytes":0,"DurationMs":1303,"ErrorMessage":null,"StartTime":null,"EndTime":null,"Timestamp":"2025-10-06T10:57:28.1290988Z","CorrelationId":"c0571cb4"},"Instance":"DONNELLD-BOOK-3-47788","Timestamp":"2025-10-06T10:57:28.1328276Z","CorrelationId":"c0571cb4"} {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.137 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: Worker.ProcessDeltaQueries | CorrelationId: b5fa335c {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.141 -04:00 DBG] HybridGraphCollectorWorker.Worker: Processing delta queries | CorrelationId: b5fa335c {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.167 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 9.0.9 initialized 'EDiscoveryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.9' with options: None {"EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.214 -04:00 DBG] Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<DeltaCursor>()
    .Where(c => c.IsActive)
    .OrderBy(c => c.LastDeltaTime)' {"EventId":{"Id":10111,"Name":"Microsoft.EntityFrameworkCore.Query.QueryCompilationStarting"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.526 -04:00 DBG] Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<DeltaCursor>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DeltaCursor.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DeltaCursor.BaselineCompletedAt (DateTime?), 1], [Property: DeltaCursor.CollectionJobId (int?) FK Index, 2], [Property: DeltaCursor.CreatedDate (DateTime) Required, 3], [Property: DeltaCursor.CustodianEmail (string) Required Index MaxLength(200), 4], [Property: DeltaCursor.DeltaQueryCount (int) Required, 5], [Property: DeltaCursor.DeltaToken (string) Required MaxLength(2000), 6], [Property: DeltaCursor.DeltaType (DeltaType) Required Index, 7], [Property: DeltaCursor.ErrorMessage (string) MaxLength(1000), 8], [Property: DeltaCursor.IsActive (bool) Required, 9], [Property: DeltaCursor.LastDeltaItemCount (int) Required, 10], [Property: DeltaCursor.LastDeltaSizeBytes (long) Required, 11], [Property: DeltaCursor.LastDeltaTime (DateTime) Required Index, 12], [Property: DeltaCursor.Metadata (string) MaxLength(4000), 13], [Property: DeltaCursor.ScopeId (string) Required Index MaxLength(200), 14], [Property: DeltaCursor.UpdatedDate (DateTime) Required, 15] }
        SELECT d.Id, d.BaselineCompletedAt, d.CollectionJobId, d.CreatedDate, d.CustodianEmail, d.DeltaQueryCount, d.DeltaToken, d.DeltaType, d.ErrorMessage, d.IsActive, d.LastDeltaItemCount, d.LastDeltaSizeBytes, d.LastDeltaTime, d.Metadata, d.ScopeId, d.UpdatedDate
        FROM DeltaCursors AS d
        WHERE d.IsActive
        ORDER BY d.LastDeltaTime ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DeltaCursor.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DeltaCursor.BaselineCompletedAt (DateTime?), 1], [Property: DeltaCursor.CollectionJobId (int?) FK Index, 2], [Property: DeltaCursor.CreatedDate (DateTime) Required, 3], [Property: DeltaCursor.CustodianEmail (string) Required Index MaxLength(200), 4], [Property: DeltaCursor.DeltaQueryCount (int) Required, 5], [Property: DeltaCursor.DeltaToken (string) Required MaxLength(2000), 6], [Property: DeltaCursor.DeltaType (DeltaType) Required Index, 7], [Property: DeltaCursor.ErrorMessage (string) MaxLength(1000), 8], [Property: DeltaCursor.IsActive (bool) Required, 9], [Property: DeltaCursor.LastDeltaItemCount (int) Required, 10], [Property: DeltaCursor.LastDeltaSizeBytes (long) Required, 11], [Property: DeltaCursor.LastDeltaTime (DateTime) Required Index, 12], [Property: DeltaCursor.Metadata (string) MaxLength(4000), 13], [Property: DeltaCursor.ScopeId (string) Required Index MaxLength(200), 14], [Property: DeltaCursor.UpdatedDate (DateTime) Required, 15] }
        SELECT d.Id, d.BaselineCompletedAt, d.CollectionJobId, d.CreatedDate, d.CustodianEmail, d.DeltaQueryCount, d.DeltaToken, d.DeltaType, d.ErrorMessage, d.IsActive, d.LastDeltaItemCount, d.LastDeltaSizeBytes, d.LastDeltaTime, d.Metadata, d.ScopeId, d.UpdatedDate
        FROM DeltaCursors AS d
        WHERE d.IsActive
        ORDER BY d.LastDeltaTime ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DeltaCursor entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            DeltaCursor instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(DeltaCursor);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: DeltaCursor.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EDiscovery.Shared.Models.DeltaCursor").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (DeltaCursor)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: DeltaCursor | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EDiscovery.Shared.Models.DeltaCursor")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: DeltaCursor | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EDiscovery.Shared.Models.DeltaCursor")]: 
                        {
                            return 
                            {
                                DeltaCursor instance;
                                instance = new DeltaCursor();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<BaselineCompletedAt>k__BackingField = dataReader.IsDBNull(1) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(1);
                                instance.<CollectionJobId>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<CreatedDate>k__BackingField = dataReader.GetDateTime(3);
                                instance.<CustodianEmail>k__BackingField = dataReader.GetString(4);
                                instance.<DeltaQueryCount>k__BackingField = dataReader.GetInt32(5);
                                instance.<DeltaToken>k__BackingField = dataReader.GetString(6);
                                instance.<DeltaType>k__BackingField = Invoke(((EnumToNumberConverter<DeltaType, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: DeltaCursor.DeltaType (DeltaType) Required Index | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EDiscovery.Shared.Models.DeltaCursor").FindProperty("DeltaType")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                instance.<ErrorMessage>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(9);
                                instance.<LastDeltaItemCount>k__BackingField = dataReader.GetInt32(10);
                                instance.<LastDeltaSizeBytes>k__BackingField = dataReader.GetInt64(11);
                                instance.<LastDeltaTime>k__BackingField = dataReader.GetDateTime(12);
                                instance.<Metadata>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                instance.<ScopeId>k__BackingField = dataReader.GetString(14);
                                instance.<UpdatedDate>k__BackingField = dataReader.GetDateTime(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: DeltaCursor | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EDiscovery.Shared.Models.DeltaCursor")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(DeltaCursor)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: EDiscovery.Shared.Data.EDiscoveryDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' {"EventId":{"Id":10107,"Name":"Microsoft.EntityFrameworkCore.Query.QueryExecutionPlanned"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.562 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection. {"EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.564 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (2ms). {"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.568 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.572 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.575 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'. {"EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.578 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms). {"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.580 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms). {"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.584 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."BaselineCompletedAt", "d"."CollectionJobId", "d"."CreatedDate", "d"."CustodianEmail", "d"."DeltaQueryCount", "d"."DeltaToken", "d"."DeltaType", "d"."ErrorMessage", "d"."IsActive", "d"."LastDeltaItemCount", "d"."LastDeltaSizeBytes", "d"."LastDeltaTime", "d"."Metadata", "d"."ScopeId", "d"."UpdatedDate"
FROM "DeltaCursors" AS "d"
WHERE "d"."IsActive"
ORDER BY "d"."LastDeltaTime" {"EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.591 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."BaselineCompletedAt", "d"."CollectionJobId", "d"."CreatedDate", "d"."CustodianEmail", "d"."DeltaQueryCount", "d"."DeltaToken", "d"."DeltaType", "d"."ErrorMessage", "d"."IsActive", "d"."LastDeltaItemCount", "d"."LastDeltaSizeBytes", "d"."LastDeltaTime", "d"."Metadata", "d"."ScopeId", "d"."UpdatedDate"
FROM "DeltaCursors" AS "d"
WHERE "d"."IsActive"
ORDER BY "d"."LastDeltaTime" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.601 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.605 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db' is being disposed after spending 7ms reading results. {"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.610 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.613 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (3ms). {"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.616 -04:00 DBG] HybridGraphCollectorWorker.Worker: No active delta cursors found | CorrelationId: b5fa335c {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.618 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: 'EDiscoveryDbContext' disposed. {"EventId":{"Id":10407,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.620 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposing connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.622 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (2ms). {"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.624 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: Worker.ProcessDeltaQueries | Duration: 487ms | Items: 0 | Size: 0 bytes | CorrelationId: b5fa335c | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.629 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: Worker.ProcessPendingJobs | Duration: 1846ms | Items: 0 | Size: 0 bytes | CorrelationId: 82217e94 | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:28.633 -04:00 DBG] HybridGraphCollectorWorker.Worker: Waiting 15 seconds before next poll {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.638 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: Worker.ProcessPendingJobs | CorrelationId: 0beb4ab4 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.641 -04:00 DBG] HybridGraphCollectorWorker.Worker: Checking for pending collection jobs | CorrelationId: 0beb4ab4 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.642 -04:00 DBG] HybridGraphCollectorWorker.Worker: Checking for available job shards | CorrelationId: 8217bf78 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.642 -04:00 DBG] HybridGraphCollectorWorker.Worker: Sharded job services not available, skipping shard processing | CorrelationId: 8217bf78 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.643 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: Worker.ProcessDeltaQueries | CorrelationId: 43e16231 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.644 -04:00 DBG] HybridGraphCollectorWorker.Worker: Processing delta queries | CorrelationId: 43e16231 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.687 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 9.0.9 initialized 'EDiscoveryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.9' with options: None {"EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.706 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection. {"EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.707 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (0ms). {"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.708 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.709 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.710 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'. {"EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.711 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms). {"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.712 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (1ms). {"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.713 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."BaselineCompletedAt", "d"."CollectionJobId", "d"."CreatedDate", "d"."CustodianEmail", "d"."DeltaQueryCount", "d"."DeltaToken", "d"."DeltaType", "d"."ErrorMessage", "d"."IsActive", "d"."LastDeltaItemCount", "d"."LastDeltaSizeBytes", "d"."LastDeltaTime", "d"."Metadata", "d"."ScopeId", "d"."UpdatedDate"
FROM "DeltaCursors" AS "d"
WHERE "d"."IsActive"
ORDER BY "d"."LastDeltaTime" {"EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.714 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."BaselineCompletedAt", "d"."CollectionJobId", "d"."CreatedDate", "d"."CustodianEmail", "d"."DeltaQueryCount", "d"."DeltaToken", "d"."DeltaType", "d"."ErrorMessage", "d"."IsActive", "d"."LastDeltaItemCount", "d"."LastDeltaSizeBytes", "d"."LastDeltaTime", "d"."Metadata", "d"."ScopeId", "d"."UpdatedDate"
FROM "DeltaCursors" AS "d"
WHERE "d"."IsActive"
ORDER BY "d"."LastDeltaTime" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.716 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.717 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db' is being disposed after spending 1ms reading results. {"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.719 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.721 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (1ms). {"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.722 -04:00 DBG] HybridGraphCollectorWorker.Worker: No active delta cursors found | CorrelationId: 43e16231 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.723 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: 'EDiscoveryDbContext' disposed. {"EventId":{"Id":10407,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.724 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposing connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.725 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (0ms). {"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.726 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: Worker.ProcessDeltaQueries | Duration: 82ms | Items: 0 | Size: 0 bytes | CorrelationId: 43e16231 | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.728 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: Worker.ProcessPendingJobs | Duration: 89ms | Items: 0 | Size: 0 bytes | CorrelationId: 0beb4ab4 | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:43.729 -04:00 DBG] HybridGraphCollectorWorker.Worker: Waiting 15 seconds before next poll {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.735 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: Worker.ProcessPendingJobs | CorrelationId: 89b5bf76 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.738 -04:00 DBG] HybridGraphCollectorWorker.Worker: Checking for pending collection jobs | CorrelationId: 89b5bf76 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.739 -04:00 DBG] HybridGraphCollectorWorker.Worker: Checking for available job shards | CorrelationId: 1e37036d {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.740 -04:00 DBG] HybridGraphCollectorWorker.Worker: Sharded job services not available, skipping shard processing | CorrelationId: 1e37036d {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.741 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: Worker.ProcessDeltaQueries | CorrelationId: b0195958 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.742 -04:00 DBG] HybridGraphCollectorWorker.Worker: Processing delta queries | CorrelationId: b0195958 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.744 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 9.0.9 initialized 'EDiscoveryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.9' with options: None {"EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.746 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection. {"EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.747 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (0ms). {"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.747 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.748 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.749 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'. {"EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.750 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms). {"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.751 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (1ms). {"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.752 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."BaselineCompletedAt", "d"."CollectionJobId", "d"."CreatedDate", "d"."CustodianEmail", "d"."DeltaQueryCount", "d"."DeltaToken", "d"."DeltaType", "d"."ErrorMessage", "d"."IsActive", "d"."LastDeltaItemCount", "d"."LastDeltaSizeBytes", "d"."LastDeltaTime", "d"."Metadata", "d"."ScopeId", "d"."UpdatedDate"
FROM "DeltaCursors" AS "d"
WHERE "d"."IsActive"
ORDER BY "d"."LastDeltaTime" {"EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.754 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."BaselineCompletedAt", "d"."CollectionJobId", "d"."CreatedDate", "d"."CustodianEmail", "d"."DeltaQueryCount", "d"."DeltaToken", "d"."DeltaType", "d"."ErrorMessage", "d"."IsActive", "d"."LastDeltaItemCount", "d"."LastDeltaSizeBytes", "d"."LastDeltaTime", "d"."Metadata", "d"."ScopeId", "d"."UpdatedDate"
FROM "DeltaCursors" AS "d"
WHERE "d"."IsActive"
ORDER BY "d"."LastDeltaTime" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.755 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.756 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db' is being disposed after spending 1ms reading results. {"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.757 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.758 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (1ms). {"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.759 -04:00 DBG] HybridGraphCollectorWorker.Worker: No active delta cursors found | CorrelationId: b0195958 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.760 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: 'EDiscoveryDbContext' disposed. {"EventId":{"Id":10407,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.761 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposing connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.761 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (0ms). {"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.762 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: Worker.ProcessDeltaQueries | Duration: 21ms | Items: 0 | Size: 0 bytes | CorrelationId: b0195958 | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.764 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: Worker.ProcessPendingJobs | Duration: 29ms | Items: 0 | Size: 0 bytes | CorrelationId: 89b5bf76 | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:57:58.765 -04:00 DBG] HybridGraphCollectorWorker.Worker: Waiting 15 seconds before next poll {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.775 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: Worker.ProcessPendingJobs | CorrelationId: d491bdff {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.777 -04:00 DBG] HybridGraphCollectorWorker.Worker: Checking for pending collection jobs | CorrelationId: d491bdff {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.777 -04:00 DBG] HybridGraphCollectorWorker.Worker: Checking for available job shards | CorrelationId: bf096ac7 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.778 -04:00 DBG] HybridGraphCollectorWorker.Worker: Sharded job services not available, skipping shard processing | CorrelationId: bf096ac7 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.779 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: Worker.ProcessDeltaQueries | CorrelationId: 9bd1846b {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.780 -04:00 DBG] HybridGraphCollectorWorker.Worker: Processing delta queries | CorrelationId: 9bd1846b {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.781 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 9.0.9 initialized 'EDiscoveryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.9' with options: None {"EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.783 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection. {"EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.785 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (1ms). {"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.786 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.788 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.790 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'. {"EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.791 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms). {"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.793 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms). {"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.794 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."BaselineCompletedAt", "d"."CollectionJobId", "d"."CreatedDate", "d"."CustodianEmail", "d"."DeltaQueryCount", "d"."DeltaToken", "d"."DeltaType", "d"."ErrorMessage", "d"."IsActive", "d"."LastDeltaItemCount", "d"."LastDeltaSizeBytes", "d"."LastDeltaTime", "d"."Metadata", "d"."ScopeId", "d"."UpdatedDate"
FROM "DeltaCursors" AS "d"
WHERE "d"."IsActive"
ORDER BY "d"."LastDeltaTime" {"EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.795 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."BaselineCompletedAt", "d"."CollectionJobId", "d"."CreatedDate", "d"."CustodianEmail", "d"."DeltaQueryCount", "d"."DeltaToken", "d"."DeltaType", "d"."ErrorMessage", "d"."IsActive", "d"."LastDeltaItemCount", "d"."LastDeltaSizeBytes", "d"."LastDeltaTime", "d"."Metadata", "d"."ScopeId", "d"."UpdatedDate"
FROM "DeltaCursors" AS "d"
WHERE "d"."IsActive"
ORDER BY "d"."LastDeltaTime" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.797 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.798 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db' is being disposed after spending 0ms reading results. {"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.799 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.800 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (1ms). {"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.803 -04:00 DBG] HybridGraphCollectorWorker.Worker: No active delta cursors found | CorrelationId: 9bd1846b {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.805 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: 'EDiscoveryDbContext' disposed. {"EventId":{"Id":10407,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.807 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposing connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.810 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (2ms). {"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.812 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: Worker.ProcessDeltaQueries | Duration: 32ms | Items: 0 | Size: 0 bytes | CorrelationId: 9bd1846b | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.814 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: Worker.ProcessPendingJobs | Duration: 39ms | Items: 0 | Size: 0 bytes | CorrelationId: d491bdff | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:13.817 -04:00 DBG] HybridGraphCollectorWorker.Worker: Waiting 15 seconds before next poll {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.826 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: Worker.ProcessPendingJobs | CorrelationId: d64893a9 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.828 -04:00 DBG] HybridGraphCollectorWorker.Worker: Checking for pending collection jobs | CorrelationId: d64893a9 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.829 -04:00 DBG] HybridGraphCollectorWorker.Worker: Checking for available job shards | CorrelationId: be1b2558 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.829 -04:00 DBG] HybridGraphCollectorWorker.Worker: Sharded job services not available, skipping shard processing | CorrelationId: be1b2558 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.830 -04:00 DBG] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE_START: Worker.ProcessDeltaQueries | CorrelationId: f364ba55 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.831 -04:00 DBG] HybridGraphCollectorWorker.Worker: Processing delta queries | CorrelationId: f364ba55 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.833 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 9.0.9 initialized 'EDiscoveryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.9' with options: None {"EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.834 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection. {"EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.835 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (0ms). {"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.836 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.837 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.838 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'. {"EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.839 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms). {"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.840 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (1ms). {"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.841 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."BaselineCompletedAt", "d"."CollectionJobId", "d"."CreatedDate", "d"."CustodianEmail", "d"."DeltaQueryCount", "d"."DeltaToken", "d"."DeltaType", "d"."ErrorMessage", "d"."IsActive", "d"."LastDeltaItemCount", "d"."LastDeltaSizeBytes", "d"."LastDeltaTime", "d"."Metadata", "d"."ScopeId", "d"."UpdatedDate"
FROM "DeltaCursors" AS "d"
WHERE "d"."IsActive"
ORDER BY "d"."LastDeltaTime" {"EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.842 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."BaselineCompletedAt", "d"."CollectionJobId", "d"."CreatedDate", "d"."CustodianEmail", "d"."DeltaQueryCount", "d"."DeltaToken", "d"."DeltaType", "d"."ErrorMessage", "d"."IsActive", "d"."LastDeltaItemCount", "d"."LastDeltaSizeBytes", "d"."LastDeltaTime", "d"."Metadata", "d"."ScopeId", "d"."UpdatedDate"
FROM "DeltaCursors" AS "d"
WHERE "d"."IsActive"
ORDER BY "d"."LastDeltaTime" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.844 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.845 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db' is being disposed after spending 0ms reading results. {"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.846 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'main' on server 'C:\Users\dnnll\source\repos\_VisualStudio_Code\M365Test\src\EDiscoveryIntakeApi\ediscovery-dev.db'. {"EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.847 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (1ms). {"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.848 -04:00 DBG] HybridGraphCollectorWorker.Worker: No active delta cursors found | CorrelationId: f364ba55 {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.849 -04:00 DBG] Microsoft.EntityFrameworkCore.Infrastructure: 'EDiscoveryDbContext' disposed. {"EventId":{"Id":10407,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.850 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposing connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db'. {"EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.851 -04:00 DBG] Microsoft.EntityFrameworkCore.Database.Connection: Disposed connection to database 'main' on server '../EDiscoveryIntakeApi/ediscovery-dev.db' (0ms). {"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.853 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: Worker.ProcessDeltaQueries | Duration: 22ms | Items: 0 | Size: 0 bytes | CorrelationId: f364ba55 | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.855 -04:00 INF] EDiscovery.Shared.Services.ComplianceLogger: PERFORMANCE: Worker.ProcessPendingJobs | Duration: 28ms | Items: 0 | Size: 0 bytes | CorrelationId: d64893a9 | Throughput: 0.00 items/sec, 0.00 MB/sec {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:28.856 -04:00 DBG] HybridGraphCollectorWorker.Worker: Waiting 15 seconds before next poll {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:37.125 -04:00 INF] Microsoft.Hosting.Lifetime: Application is shutting down... {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:37.127 -04:00 DBG] Microsoft.Extensions.Hosting.Internal.Host: Hosting stopping {"EventId":{"Id":3,"Name":"Stopping"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:37.130 -04:00 INF] HybridGraphCollectorWorker.Workers.GdcFetchWorker: GDC Fetch Worker is stopping due to cancellation {"Application":"HybridGraphCollectorWorker","Environment":"Development"}
[2025-10-06 06:58:37.135 -04:00 DBG] Microsoft.Extensions.Hosting.Internal.Host: Hosting stopped {"EventId":{"Id":4,"Name":"Stopped"},"Application":"HybridGraphCollectorWorker","Environment":"Development"}
